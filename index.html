<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>F1 GP Breakdown</title>

  <!-- Orbitron font from Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <!-- Exo 2 font for Tech Talk card -->
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* ...your existing sitewide styles... */

    /* existing .card styles here */

    /* New styles for the Tech Talk card font & layout */
  .tech-talk.card {
  font-family: 'Exo 2', sans-serif !important;
}
.tech-talk.card h2,
.tech-talk.card h3 {
  font-family: 'Orbitron', sans-serif;
}

    .tech-talk h2 { 
      margin: 0 0 .5rem; 
      font-size: 1.5rem; 
      font-weight: 600;
    }
       .tech-talk h3 {
      margin : 1rem 0 .25rem;
      font-size : 1.1rem;
      font-weight : 600;
    }

    /* ‚ñº New table layout rules ‚ñº */
    /* Upcoming Races table: lock columns and prevent overlap */
.upcoming-races-card table {
  table-layout: fixed;
  width: 100%;
  border-collapse: collapse;
}

.upcoming-races-card thead th,
.upcoming-races-card tbody td {
  padding: 0.5rem;
  text-align: left;
  vertical-align: middle;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Col 1: flag */
.upcoming-races-card thead th:nth-child(1),
.upcoming-races-card tbody td:nth-child(1) {
  width: 3.5rem;
  text-align: center;
}

/* Col 2: Grand Prix (flag + name) */
.upcoming-races-card thead th:nth-child(2),
.upcoming-races-card tbody td:nth-child(2) {
  min-width: 260px;
}

/* Col 3: Date */
.upcoming-races-card thead th:nth-child(3),
.upcoming-races-card tbody td:nth-child(3) {
  width: 180px;
}

/* Col 4: Location (flex column) */
.upcoming-races-card thead th:nth-child(4),
.upcoming-races-card tbody td:nth-child(4) {
  min-width: 200px;
}

/* Col 5: Countdown */
.upcoming-races-card thead th:nth-child(5),
.upcoming-races-card tbody td:nth-child(5) {
  width: 9.5rem;
  text-align: left;
}

/* Flag image beside GP name */
.upcoming-races-card .flag-icon {
  width: 20px;
  height: 14px;
  margin-right: 8px;
  vertical-align: -2px;
  border-radius: 2px;
}

    /* ‚ñ≤ End new table layout rules ‚ñ≤ */
  </style>
</head>

 <style>
    body {
      background-color: #1c1c1c; /* sleek dark grey */
      color: #ffffff;
      font-family: 'Orbitron', sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
      border-bottom: 2px solid #e10600; /* F1 red accent */
    }
    h1 {
      margin: 0;
      font-size: 2.5rem;
      letter-spacing: 2px;
    }
main {
  display: grid;
  grid-template-columns: 2fr 1fr;
  grid-auto-rows: minmax(200px, auto);
  gap: 1.5rem;
  padding: 2rem;
}

/* Layout: two columns (fixed 350px sidebar + flexible main) */
/* Layout: two columns (fixed 350px sidebar + flexible main) */
main {
  display: grid;
  grid-template-columns: 350px 1fr;
  grid-auto-rows: minmax(200px, auto);
  gap: 1.5rem;
  padding: 2rem;
}

/* Make the first card span both columns as the hero */
main > .card:first-child {
  grid-column: 1 / -1;
}

/* Left-column stack widths */
.card.standings, .tech-talk.card {
  grid-column: 1 / 2;
  max-width: 350px;
  justify-self: start;
}

   /* Card body font reset */
.card p,
.card li,
.card ul,
.card ol,
.card table,
.card th,
.card td {
  font-family: 'Roboto', sans-serif;
  font-weight: 400;
}

/* The Paddock: read left-to-right like a book */
.card.paddock {
  grid-column: 1 / -1; /* span across the entire main grid */
  padding: 1rem;
  max-width: 100%; /* remove the 350px lock */
  font-family: 'Roboto', sans-serif;
}

.card.paddock h1,
.card.paddock h2,
.card.paddock h3 {
  column-span: all;
}

/* Headings stay in Orbitron */
.card h1,
.card h2,
.card h3 {
  font-family: 'Orbitron', sans-serif;
}
 /* Ensure overlay layers correctly */
.card {
  position: relative;
  padding: 1rem;
  max-width: 100%;
  font-family: 'Roboto', sans-serif;
}

/* Watermark overlay */
.card::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 80%;
  height: 80%;
  transform: translate(-50%, -50%);
  background-image: url('logos/F1GPBLogoC.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  opacity: 0.18;
  pointer-events: none;
  z-index: 0;
}

/* Keep actual card content above the watermark */
.card > * {
  position: relative;
  z-index: 1;
}

.card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.8);
    }
.card h2 {
  color: #e10600;
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

/* Racing stripe with swoosh + motion blur */
.title-with-stripe {
  position: relative;
  display: inline-block;
  padding: 0 1rem;
  font-size: 2.5rem;
  color: #ffffff;
}

.title-with-stripe::after {
  content: "";
  position: absolute;
  top: 50%;
  left: -5%;
  width: 110%;
  height: 8px;
  background: linear-gradient(
    135deg,
    #ff2b2b 0%,
    #e10600 40%,
    #990000 100%
  );
  transform: translateY(-50%) skewX(-20deg);
  border-radius: 4px;
  z-index: -1;
  
  /* Motion blur illusion */
  filter: blur(1.5px);
  box-shadow: 0 0 10px rgba(225, 6, 0, 0.6),
              0 0 20px rgba(225, 6, 0, 0.4);
}
/* Generic card styling so the text stays readable */
.card {
  position: relative;
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain; /* or 'cover' for full fill */
  background-blend-mode: lighten; /* helps with subtle overlays */
}

/* Race Recap card watermark */
.card:nth-of-type(1) {
  background-image: url('images/hungaroring-watermark.png');
  opacity: 0.95; /* keeps text vibrant, watermark subtle */
}

/* Driver Standings card watermark */
.card:nth-of-type(2) {
  background-image: url('images/helmet-watermark.svg');
}

/* Tech Bites card watermark */
.card:nth-of-type(3) {
  background-image: url('images/tech-schematic.png');
}

/* Team Radio card watermark */
.card:nth-of-type(4) {
  background-image: url('images/radio-wave.svg');
}

/* Flag icon styling for race tables */
.flag-icon {
  width: 20px;
  height: 14px;
  object-fit: cover;
  vertical-align: -2px;
  margin-right: 8px;
  border-radius: 2px;
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.15);
}
</style>

</head>
<body>
<main>
 <header class="site-banner">
  <h1 class="title-with-stripe">üèéÔ∏è F1 GP Breakdown</h1>
  <p style="font-size: 1.2em; font-weight: 500;">
    Your pit wall for everything Formula 1 ‚Äî race recaps, standings, strategy, and tech insight from the heart of the paddock.
  </p>
</header>


<main>
  <!-- Hero card -->
  <div class="card">
    <h2>Race Recap</h2>
    <p><strong>Hungarian Grand Prix (July 20, 2025)</strong> ‚Äî A tense duel between the McLarens kept Budapest buzzing. Lando Norris converted an early undercut into the lead, but Oscar Piastri hounded him all the way to the line, finishing just 0.7 seconds adrift. George Russell brought the Mercedes home P3 after a clever one‚Äëstop, holding off late pressure from Charles Leclerc. Key moment: McLaren split their tyre strategy on lap 18, forcing Red Bull‚Äôs hand and leaving Max Verstappen stuck in traffic. Fastest lap went to Piastri, sealing a McLaren 1‚Äì2 and tightening the fight in the constructors‚Äô standings.</p>
  </div>
<div class="card paddock upcoming-races">
<!-- ===== Upcoming Races: START ===== -->
<section class="card upcoming-races-card" aria-labelledby="upcoming-races-title">
  <h2 id="upcoming-races-title">Upcoming races</h2>

  <div class="races-table-wrap">
    <table class="races-table" role="table" aria-describedby="upcoming-races-title">
      <colgroup>
        <col style="width: 3.5rem" />   <!-- Flag -->
        <col />                         <!-- Grand Prix -->
        <col style="width: 12.5rem" />  <!-- Date -->
        <col style="width: 12.5rem" />  <!-- Location -->
        <col style="width: 10.5rem" />  <!-- Countdown -->
      </colgroup>
      <thead>
        <tr role="row">
          <th scope="col" class="col-flag">Flag</th>
          <th scope="col" class="col-gp">Grand Prix</th>
          <th scope="col" class="col-date">Date</th>
          <th scope="col" class="col-loc">Location</th>
          <th scope="col" class="col-ctd">Countdown</th>
        </tr>
      </thead>
      <tbody id="races-body">
        <!-- Rows are injected here by JS -->
      </tbody>
    </table>
  </div>
</section>

<style>
  /* ========== Upcoming Races: Styles ========== */
  .upcoming-races-card {
    padding: 1rem 1.25rem;
  }

  .upcoming-races-card h2 {
    font-family: 'Orbitron', system-ui, sans-serif;
    font-size: 1.25rem;
    margin: 0 0 0.75rem;
    letter-spacing: 0.02em;
  }

  .races-table-wrap {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .races-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed; /* Prevents column drift/migration */
    background: #0b0b10;
    color: #e8e8ef;
    border: 1px solid #1f2130;
    border-radius: 8px;
    overflow: hidden;
  }

  .races-table thead th {
    text-align: left;
    font-weight: 700;
    font-size: 0.85rem;
    padding: 0.65rem 0.75rem;
    background: #141625;
    border-bottom: 1px solid #24273a;
    white-space: nowrap;
  }

  .races-table tbody td {
    padding: 0.65rem 0.75rem;
    border-bottom: 1px solid #1b1e2e;
    vertical-align: middle;
    font-size: 0.92rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap; /* Keeps GP name/date from wrapping into other columns */
  }

  .races-table tbody tr:last-child td {
    border-bottom: none;
  }

  .col-flag,
  .td-flag {
    text-align: center;
  }

  .td-flag .flag {
    font-size: 1.25rem;
    display: inline-block;
    width: 1.75rem;
  }

  .td-gp .gp-name {
    font-weight: 600;
    letter-spacing: 0.01em;
  }

  .td-date time {
    color: #cfd3ff;
    font-variant-numeric: tabular-nums;
  }

  .td-loc {
    color: #c5c8d4;
  }

  .td-ctd .countdown {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    font-weight: 600;
    color: #8ef0a6;
    background: #11331c;
    border: 1px solid #1d5a31;
    padding: 0.2rem 0.45rem;
    border-radius: 6px;
    display: inline-block;
    min-width: 7.5rem;
    text-align: center;
  }

  /* Hover state */
  .races-table tbody tr:hover td {
    background: #101324;
  }

  /* Responsive: stack columns on very narrow screens */
  @media (max-width: 600px) {
    .races-table thead {
      display: none;
    }
    .races-table,
    .races-table tbody,
    .races-table tr,
    .races-table td {
      display: block;
      width: 100%;
    }
    .races-table tbody tr {
      border-bottom: 1px solid #1b1e2e;
      padding: 0.5rem 0.25rem;
    }
    .races-table tbody td {
      border: none;
      white-space: normal; /* allow wrapping within the cell on mobile */
      padding: 0.35rem 0.5rem;
    }
    .td-flag { order: 1; }
    .td-gp { order: 2; }
    .td-date { order: 3; }
    .td-loc { order: 4; }
    .td-ctd { order: 5; margin-top: 0.25rem; }
  }
</style>

<script>
  // ========== Upcoming Races: Data ==========
const UPCOMING_RACES = [
  {
    flag: "logos/nlflag.png",
    grandPrix: "Dutch Grand Prix",
    dateISO: "2025-08-31T15:00:00+02:00",
    location: "Zandvoort, Netherlands"
  },
  {
    flag: "logos/itflag.jpg",
    grandPrix: "Italian Grand Prix",
    dateISO: "2025-09-07T15:00:00+02:00",
    location: "Monza, Italy"
  },
  {
    flag: "logos/azflag.png",  // ‚Üê add this PNG to /logos/ if not there yet
    grandPrix: "Azerbaijan Grand Prix",
    dateISO: "2025-09-21T15:00:00+04:00",
    location: "Baku, Azerbaijan"
  },
  {
    flag: "logos/sgflag.png",  // ‚Üê add this PNG to /logos/ if not there yet
    grandPrix: "Singapore Grand Prix",
    dateISO: "2025-09-28T20:00:00+08:00",
    location: "Marina Bay, Singapore"
  }
];


  // ========== Upcoming Races: Utilities ==========
  function formatLocalDate(iso) {
    const d = new Date(iso);
    const fmt = new Intl.DateTimeFormat(undefined, {
      weekday: "short",
      year: "numeric",
      month: "short",
      day: "2-digit",
      hour: "2-digit",
      minute: "2-digit",
      hour12: false
    });
    return fmt.format(d);
  }

  function diffParts(toISO) {
    const now = new Date();
    const target = new Date(toISO);
    let diff = target - now;
    if (diff <= 0) return { over: true, d: 0, h: 0, m: 0, s: 0 };
    const d = Math.floor(diff / (24 * 3600 * 1000));
    diff -= d * 24 * 3600 * 1000;
    const h = Math.floor(diff / (3600 * 1000));
    diff -= h * 3600 * 1000;
    const m = Math.floor(diff / (60 * 1000));
    diff -= m * 60 * 1000;
    const s = Math.floor(diff / 1000);
    return { over: false, d, h, m, s };
  }

  function formatCountdown(parts) {
    const pad = (n) => String(n).padStart(2, "0");
    return `${parts.d}d ${pad(parts.h)}h ${pad(parts.m)}m`;
  }

  // ========== Upcoming Races: Render ==========
function renderRaces() {
  const tbody = document.getElementById("races-body");
  tbody.innerHTML = "";

  UPCOMING_RACES.forEach((race) => {
    const tr = document.createElement("tr");
    tr.setAttribute("role", "row");

    // --- Column 1: Flag ---
    const tdFlag = document.createElement("td");
    tdFlag.className = "td-flag";

    if (race.flag.trim().toLowerCase().endsWith(".png")) {
  tdFlag.innerHTML = `<img class="flag-icon" src="${race.flag.trim()}" alt="${race.location} flag">`;
} else {
  tdFlag.innerHTML = `<span class="flag" aria-hidden="true">${race.flag}</span>
                      <span class="sr-only">${race.location} flag</span>`;
}

    tr.appendChild(tdFlag);

    // --- Column 2: Grand Prix name (prepend NL image if Dutch GP) ---
    const tdGP = document.createElement("td");
    tdGP.className = "td-gp";

    const prependImg =
  race.grandPrix === "Dutch Grand Prix"
    ? `<img class="flag-icon" src="${race.flag.trim()}" alt="Netherlands flag"> `
    : "";
    tdGP.innerHTML = `${prependImg}<span class="gp-name">${race.grandPrix}</span>`;
    tr.appendChild(tdGP);

    // --- Column 3: Date ---
    const tdDate = document.createElement("td");
    tdDate.className = "td-date";
    tdDate.innerHTML = `<time datetime="${race.dateISO}">${formatLocalDate(race.dateISO)}</time>`;
    tr.appendChild(tdDate);

    // --- Column 4: Location ---
    const tdLoc = document.createElement("td");
    tdLoc.className = "td-loc";
    tdLoc.textContent = race.location;
    tr.appendChild(tdLoc);

    // --- Column 5: Countdown ---
    const tdCtd = document.createElement("td");
    tdCtd.className = "td-ctd";
    tdCtd.innerHTML = `<span class="countdown" data-countdown="${race.dateISO}" aria-label="Countdown to ${race.grandPrix}"></span>`;
    tr.appendChild(tdCtd);

    tbody.appendChild(tr);
  });
}


  function tickCountdowns() {
    const nodes = document.querySelectorAll('[data-countdown]');
    nodes.forEach((node) => {
      const iso = node.getAttribute('data-countdown');
      const parts = diffParts(iso);
      node.textContent = parts.over ? "On track" : formatCountdown(parts);
    });
  }

  // Initialize on DOM ready
  (function initUpcomingRaces() {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", () => {
        renderRaces();
        tickCountdowns();
        // Update every 30s to avoid layout thrash
        setInterval(tickCountdowns, 30000);
      });
    } else {
      renderRaces();
      tickCountdowns();
      setInterval(tickCountdowns, 30000);
    }
  })();
</script>
<!-- ===== Upcoming Races: END ===== -->

</div>

<!-- Left column stack -->
  <div class="card standings">
    <h2>Driver Standings</h2>
    <table>
      <thead>
        <tr><th>Pos</th><th>Driver</th><th>Team</th><th>Points</th></tr>
      </thead>
      <tbody>
        <tr><td>1</td><td>Oscar Piastri</td><td>McLaren</td><td>284</td></tr>
        <tr><td>2</td><td>Lando Norris</td><td>McLaren</td><td>275</td></tr>
        <tr><td>3</td><td>Max Verstappen</td><td>Red Bull</td><td>187</td></tr>
        <tr><td>4</td><td>George Russell</td><td>Mercedes</td><td>172</td></tr>
        <tr><td>5</td><td>Charles Leclerc</td><td>Ferrari</td><td>151</td></tr>
        <tr><td>6</td><td>Lewis Hamilton</td><td>Ferrari</td><td>109</td></tr>
        <tr><td>7</td><td>Kimi Antonelli</td><td>Mercedes</td><td>64</td></tr>
        <tr><td>8</td><td>Alex Albon</td><td>Williams</td><td>54</td></tr>
        <tr><td>9</td><td>Nico H√ºlkenberg</td><td>Sauber</td><td>37</td></tr>
        <tr><td>10</td><td>Esteban Ocon</td><td>Haas</td><td>27</td></tr>
      </tbody>
    </table>
  </div>

 <div class="card paddock">
  <h2>üèÅ The Paddock: Alpine & Williams Test at Monza</h2>
  <p>While the spotlight was on Budapest, Alpine and Williams quietly turned laps at Monza in a crucial mid-season test. With Spa and Monza looming on the calendar, both teams sought answers on low-downforce setups and tyre degradation.</p>
  
  <h3>Alpine Highlights</h3>
  <ul>
    <li>Ran aero rakes on the A525 to validate new floor geometry.</li>
    <li>Esteban Ocon logged over 100 laps, focusing on brake cooling and DRS efficiency.</li>
    <li>Team sources say the data ‚Äúexceeded expectations‚Äù for high-speed balance.</li>
  </ul>
  
  <h3>Williams Insights</h3>
  <ul>
    <li>Alex Albon trialed a revised rear wing and diffuser package.</li>
    <li>The FW47 showed promising straight-line speed, but struggled with rear stability through Ascari.</li>
    <li>Engineers are optimistic about gains in qualifying trim.</li>
  </ul>

  <p>Both squads are chasing consistency in the midfield battle‚Äîand Monza‚Äôs long straights and heavy braking zones offered the perfect proving ground.</p>
</div>

  <section id="tech-talk-belgian-gp" class="tech-talk card" aria-labelledby="tech-talk-title">
    <h2 id="tech-talk-title">Tech Talk: Belgian Grand Prix ‚Äî Spa‚ÄëFrancorchamps</h2>

    <div class="track-overview">
      <h3>Circuit overview</h3>
      <ul>
        <li><strong>Name:</strong> Circuit de Spa‚ÄëFrancorchamps</li>
        <li><strong>Length:</strong> 7.004 km (longest on the calendar)</li>
        <li><strong>Laps:</strong> 44 (race distance ~308.052 km)</li>
        <li><strong>First F1 GP:</strong> 1950</li>
        <li><strong>Character:</strong> Long straights, high‚Äëspeed corners, big elevation; Ardennes micro‚Äëclimate can split the track between wet and dry.</li>
      </ul>
      <div class="spa-layout-image" style="margin: 1rem 0;">
 <img src="logos/spacircuit.jpg" alt="Spa-Francorchamps circuit layout" style="width: 100%; max-width: 600px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.6);">


<p style="font-size: 0.9em; color: #ccc; text-align: center; margin-top: 0.5rem;">
    Spa-Francorchamps layout ‚Äî 7km of elevation, speed, and legacy. Fastest lap: Bottas (1:46.286). Schumacher‚Äôs six wins here are legendary.
  </p>
</div>

    <div class="tech-tyres">
      <h3>Technical and tyre notes</h3>
      <ul>
        <li><strong>Downforce:</strong> Medium‚Äìlow to protect top speed on Kemmel while keeping Sector 2 stable.</li>
        <li><strong>Tyres:</strong> Typically mid‚Äërange compounds (C2‚ÄìC4); cool, damp air can cause graining.</li>
        <li><strong>Strategy:</strong> One or two stops viable; Safety Cars and weather often swing the call.</li>
        <li><strong>Power unit & cooling:</strong> High full‚Äëthrottle time; brake energy moderate but cooling is critical.</li>
      </ul>
    </div>

    <div class="weather-watch">
      <h3>Weather watch</h3>
      <ul>
        <li><strong>Temperatures:</strong> High‚Äëteens to low‚Äë20s ¬∞C are common.</li>
        <li><strong>Rain risk:</strong> Sudden showers are notorious; Intermediates often decide margins.</li>
      </ul>
    </div>

    <div class="spotlight-sections">
      <h3>Sections to spotlight</h3>
      <ul>
        <li><strong>Eau Rouge/Raidillon:</strong> Compression to crest at full chat; balance drag vs. front‚Äëend bite.</li>
        <li><strong>Kemmel Straight:</strong> Primary DRS and overtaking zone; tow effect is strong.</li>
        <li><strong>Les Combes‚ÄìMalmedy:</strong> Vulnerable to switchbacks if the defender over‚Äëcommits.</li>
        <li><strong>Pouhon:</strong> Sustained lateral load; left‚Äëside tyre temps spike.</li>
        <li><strong>Blanchimont:</strong> Commitment‚Äëheavy, especially in dirty air late in stints.</li>
        <li><strong>Bus Stop chicane:</strong> Heavy braking; traction crucial onto the main straight.</li>
      </ul>
    </div>
  </section>

</body>
</html>
